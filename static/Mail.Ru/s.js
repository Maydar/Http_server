splashRadar._JSINIT=!0;splashRadar._JSINITTime=(new Date).getTime();splashRadar._JSLOADTime=(new Date).getTime()-splashRadar._JSLOADTime;splashRadar("JSLoad",1);splashRadar("JSInit");
(function(a){function b(b,d){var c=a.m$portal.cookie,e,q,y=RegExp("(^|\\|)("+b+"=)(.*?)(\\||$)");if(b)return e=c("s")||"",q=(e.match(y)||[])[3],void 0!==d?c("s",q||null===d?e.replace(y,null===d?function(b,a,d,c,e,h,f){return 0===f.indexOf(b)?"":e}:"$1$2"+d+"$4"):(e?e+"|":"")+b+"="+d,{domain:".mail.ru",expires:365,path:"/"}):d=q,d}var c={splash:"s",news:"n",afisha:"a",auto:"av",lady:"l",horo:"h",pogoda:"p",mail:"m",promail:"pm",blogs:"b",foto:"f",video:"v",my:"my",agent:"ag",torg:"t",love:"lv",game:"g",
"hi-tech":"ht",maps:"map"},d,e=a.m$portal;e||(e=a.m$portal={});e.S_Cookie=function(a){d||(a=c[a],d=new function(){function d(){throw Error("project must be set");}function c(e){a||d();return b(a+"_"+e)}this.getLocal=c;this.setLocal=function(e,q){a||d();if(void 0==q)throw Error("need value");b(a+"_"+e,q);return c(e)};this.removeLocal=function(e){a||d();var q=c(e);b(a+"_"+e,null);return q};this.getGlobal=function(a){return b(a)};this.setGlobal=function(a,d){if(void 0==d)throw Error("need value");b(a,
d);return b(a)};this.removeGlobal=function(a){var d=b(a);b(a,null);return d}});return d}})(window);Splash.getUniqueId=function(){var a=0;return function(){return a++}}();
extend(mr,{tag:function(a,b,c){if(c&&document.querySelectorAll)return(b||document).querySelectorAll(a+"."+c);a=(b||document).getElementsByTagName(a);if(c){b=[];for(var d=0;d<a.length;d++){var e=a[d];mr.hasClass(e,c)&&b.push(e)}return b}return a},toggleClass:function(a,b,c,d){!1===d||void 0===d&&mr.hasClass(a,b)?(mr.removeClass(a,b),c&&mr.addClass(a,c)):(mr.addClass(a,b),c&&mr.removeClass(a,c))},hasParent:function(a,b){var c;c=mr.isNode(b)?function(a,b){return a==b}:function(a,b){return mr.hasClass(a,
b)};for(var d=a.parentNode;d;){if(c(d,b))return d;d=d.parentNode}return!1},isNode:function(a){return a&&1==a.nodeType},preventDefault:function(a){a&&a.preventDefault?a.preventDefault():window.event.returnValue=!1},s_cookie:m$portal.S_Cookie("splash"),data:function(a,b,c){if(!a)return null;if(void 0===c)return a.getAttribute("data-"+b);a.setAttribute("data-"+b,c)},proxy:function(a,b){return function(){return a.apply(b,arguments)}},position:function(a){if(a.getBoundingClientRect){a=a.getBoundingClientRect();
var b=document.body,c=document.documentElement;return{left:a.left+(window.pageXOffset||c.scrollLeft||b.scrollLeft)-(c.clientLeft||b.clientLeft||0),top:a.top+(window.pageYOffset||c.scrollTop||b.scrollTop)-(c.clientTop||b.clientTop||0)}}b=parseFloat(a.offsetTop);for(c=parseFloat(a.offsetLeft);a=a.offsetParent;)b+=parseFloat(a.offsetTop),c+=parseFloat(a.offsetLeft);return{left:c,top:b}},getJson:function(a,b,c,d){new Ajax(a,{json:!0,params:b,callback:c,error:d})},formatQuery:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&
b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},parseJson:function(a){if("string"!==typeof a||!a)return null;if(window.JSON&&window.JSON.parse)return window.JSON.parse(a);try{return(new Function("return "+a))()}catch(b){return window.logError&&logError(b,"parseJson"),null}},plural:function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},placeSlot:function(a){var b=mr.id("slot_"+a);a=mr.id("placeholder_"+a);b&&a&&(a.innerHTML=b.innerHTML)},
placeSlots:function(){for(var a=0;a<arguments.length;a++)mr.placeSlot(arguments[a])},extendClass:function(a,b){var c=function(){};c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a}});
function Ajax(a,b){var c=this.getTransport();if(c){var d=b.method||"get",e=b.json||!1,h=b.params||{},f=b.callback||function(){},p=b.error||function(){};"get"==d&&b.params&&(a+=(-1!=a.indexOf("?")?"&":"?")+mr.formatQuery(h));c.onreadystatechange=function(){var a;if(4===c.readyState){if(200===c.status)if(e){var b;try{b=mr.parseJson(c.responseText)}catch(d){window.logError&&logError(d,"onreadystatechange"),a=d,window.console&&window.console.error&&console.error(d)}a||f(b)}else f(c.responseText);if(200!==
c.status||a)p(a instanceof Error&&a||Error("request error"))}};c.open(d,a,!0);c.send("get"==d?null:mr.formatQuery(h))}}Ajax.prototype={getTransport:window.ActiveXObject&&!window.XMLHttpRequest?function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){window.logError&&logError(a,"getTransport_IE")}}:function(){try{return new window.XMLHttpRequest}catch(a){window.logError&&logError(a,"getTransport_XHR")}}};
(function(){function a(a){this._context=a||this;this._mixedIn=[]}function b(a,b,e){this.eventName=a;this.target=b;this.data=e}a.prototype.emit=function(a){var d;if(!this._events||!this._events[a]||!(d=this._events[a]))return!1;for(var e=Array.prototype.splice.call(arguments,1,arguments.length),h=0,f=d.length;h<f;h++){var p=d[h];"function"===typeof p&&p.apply(this._context,[new b(a,this._context,e)])}return!0};a.prototype.addListener=function(a,b){if("function"!==typeof b)throw Error("invalid argument");
this._events||(this._events={});this._events[a]||(this._events[a]=[]);this._events[a].push(b);return this};a.prototype.on=a.prototype.addListener;a.prototype.once=function(a,b){function e(){this.removeListener(a,e);b.apply(this._context,arguments)}if("function"!==typeof b)throw Error("invalid argument");this.on(a,e);return this};a.prototype.removeListener=function(a,b){if("function"!==typeof b)throw Error("invalid argument");if(!this._events[a])return this;var e=this._events[a],h=e.indexOf(b);if(0>
h)return this;e.splice(h,1);0===e.length&&delete this._events[a];return this};a.prototype.mixin=function(a){a.bind=this.bind.bind(this);a.unbind=this.unbind.bind(this);a.dispatch=this.dispatch.bind(this);this._mixedIn.push(a)};a.prototype.bind=function(a,b){this.on(a,b);return this};a.prototype.unbind=function(a,b){this.removeListener(a,b)};a.prototype.dispatch=function(a,b){this.emit.apply(this,arguments)};a.prototype.destroy=function(){for(var a=0,b=this._mixedIn.length;a<b;a++){var e=this._mixedIn[a];
e.bind=e.unbind=e.dispatch=void 0}this._mixedIn=this._events=this._context=void 0};Splash.EventEmitter=a})();
(function(){function a(a,b,c){this._elem=a;this._name=b;this._fn=c;this._attached=!1;this._handler=mr.proxy(this._fn,this)}var b=0,c={};a.addListener=function(d,e,h){if(Array.prototype.isArray(d)){for(var f=0,p=d.length;f<p;f++)d[f]&&a.addListener(d[f],e,h);return this}e=Array.prototype.isArray(e)?e:[e];f=!1;h.uuid&&(f=!0);var l=h.uuid||b;h.uuid=l;l=c[l]=function(a){a=Event._fix(a||window.event);var b=h.call(d,a);!1===b&&(a.preventDefault(),a.stopPropagation());return b};f||b++;f=0;for(p=e.length;f<
p;f++)document.addEventListener?d.addEventListener(e[f],l,!1):d.attachEvent("on"+e[f],l);return this};a.on=a.addListener;a.removeListener=function(b,e,h){if(Array.prototype.isArray(b)){for(var f=0,p=b.length;f<p;f++)b[f]&&a.removeListener(b[f],e,h);return this}e=Array.prototype.isArray(e)?e:[e];f=0;for(p=e.length;f<p;f++)document.removeEventListener?b.removeEventListener(e[f],c[h.uuid],!1):b.detachEvent("on"+e[f],c[h.uuid]);return this};a.once=function(b,e,c){function f(p){c.call(this,p);a.removeListener(b,
e,f)}this.on(b,e,f);return this};a.prototype={attach:function(){this._attached||(this._attached=!0,this._attach())},detach:function(){this._attached&&(this._detach(),this._attached=!1)},_attach:function(){a.on(this._elem,this._name,this._handler)},_detach:function(){a.removeListener(this._elem,this._name,this._handler)},destroy:function(){this.detach();this._elem=this._name=this._fn=this._handler=null}};Event={_fixHooks:{key:{props:["charCode","keyCode"],fix:function(a,b){a.which||(a.which=b.charCode?
b.charCode:b.keyCode);return a}},mouse:{props:"clientX clientY offsetX offsetY pageX pageY screenX screenY".split(" "),fix:function(a,b){var c,f,p=b.button,l=b.fromElement;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||document,f=c.documentElement,c=c.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0));!a.relatedTarget&&l&&(a.relatedTarget=l===a.target?
b.toElement:l);!a.which&&void 0!==p&&(a.which=p&1?1:p&2?3:p&4?2:0);return a}},touch:{props:["touches","targetTouches","changedTouches"],fix:function(a){return a}}},_props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase shiftKey target timeStamp which".split(" "),_fix:function(a){var b={preventDefault:function(){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}},c=a.type,f=/^(key|mouse|touch)/.exec(c);
f&&-1!==["key","mouse","touch"].indexOf(f[1])&&(c=f[1]);"click"===c&&(c="mouse");for(var c=this._fixHooks[c]||{},f=c.props?this._props.concat(c.props):this._props,p=f.length;p;){var l=f[--p];b[l]=a[l]}b.target&&3===b.target.nodeType&&(b.target=b.target.parentNode);b.target||(b.target=a.srcElement||document);c.fix&&c.fix(b,a);b.originalEvent=a;b.type=a.type;b.timeStamp=a&&a.timeStamp||(new Date).valueOf();return b}};Splash.DOMEvent=a})();
(function(a,b){function c(a,c,h){this.content=a;this.tipSide=h||"bottom";this.listenTo=c;this.node=b.createElement("div");this.node.className="hint";-1!==navigator.userAgent.indexOf("MSIE 6")&&(this.nodeIE=b.createElement("iframe"),this.nodeIE.className="hint hint_iframe");this._prepareHTML();this._prepareEvents();this.enable()}c.prototype=new Splash.EventEmitter;mr.extend(c.prototype,{isVisible:function(){return this._visible},show:function(a){if(!(a&&!this._visible||!a&&this._visible)){this._inBody||
(this.nodeIE&&b.body.appendChild(this.nodeIE),b.body.appendChild(this.node),this._inBody=!0);a||this.emit("show");this.node.style.visibility="hidden";this.node.style.display="block";a=mr.position(this.listenTo);var c=this.node.offsetHeight,h=this.node.offsetWidth;this.node.style.left=a.left+this.listenTo.offsetWidth/2-22+"px";this.node.style.top=a.top-c-6+"px";this.nodeIE&&(this.nodeIE.style.width=h,this.nodeIE.style.height=c,this.nodeIE.style.left=this.node.style.left,this.nodeIE.style.top=this.node.style.top,
this.nodeIE.style.display=this.node.style.display,this.nodeIE.style.visibility="visible");this.node.style.visibility="visible";this._visible=!0}},hide:function(){this.node.style.display="none";this.nodeIE&&(this.nodeIE.style.display=this.node.style.display);this._visible=!1},_prepareHTML:function(){var a='<i class="hint__tip hint__tip_'+this.tipSide+'">'+(-1!==navigator.userAgent.indexOf("MSIE 6")?'<i class="hint__tip_ie"></i>':"")+'</i><div class="hint__content">'+this.content;this.node.innerHTML=
a;this.show(!0)},setContent:function(a){this.content=a;this._prepareHTML()},_prepareEvents:function(){var a;this._showEvent=new Splash.DOMEvent(this.listenTo,"mouseover",mr.proxy(function(){clearTimeout(a);a=setTimeout(mr.proxy(function(){this.show()},this),100)},this));var b=mr.proxy(function(){clearTimeout(a);a=setTimeout(mr.proxy(function(){this.hide()},this),400)},this);this._hideEvent=new Splash.DOMEvent(this.listenTo,"mouseout",b);mr.bind(this.node,"mouseover",function(){clearTimeout(a)});mr.bind(this.node,
"mouseout",b)},enable:function(){this._showEvent.attach();this._hideEvent.attach()},disable:function(){this._showEvent.detach();this._hideEvent.detach()},destroy:function(){this.node.parentNode.removeChild(this.node);this._showEvent.destroy();this._hideEvent.destroy();this._events.destroy();this._events=this._hideEvent=this._showEvent=this.content=this.tipSide=this.listenTo=this.node=null}});Splash.Hint=c})(window,document,void 0);
(function(){function a(a,c){this.container=a;this.options=c;this.mask=mr.id(c.mask.maskId);this.contentContainer=mr.id(c.content.containerId);this.more=mr.id(c.tabs.moreId);this.moreContainer=mr.id(c.tabs.moreDropdownId);var d=this;this.__onClick=function(a){d._onClick(this,a)};for(var e=this.container.getElementsByTagName("td"),h=0,f=e.length;h<f;h++)this._initTab(e[h]);this._closeMore=this._closeMore.bind(this);Splash.DOMEvent.addListener(this.more,"click",this._openMore.bind(this))}a.prototype=
new Splash.EventEmitter;mr.extend(a.prototype,{_initTab:function(a){this.isActive(a)&&(this.activeTab=a);this._loadTabContent(a);this._initDouble(a);Splash.DOMEvent.addListener(a,"click",this.__onClick)},loaded:function(){this._waiting&&this._waiting()},_initDouble:function(a){mr.hasClass(a,this.options.tabs.doubleTabClass)&&(a._double=document.createElement("div"),a._double.className=this.options.tabs.moreDropdownItemClass,a._double.innerHTML=a.innerHTML.replace(RegExp(this.options.tabs.tabLinkClass,
"g"),this.options.tabs.moreDropdownItemLinkClass),a._double.tab=a,Splash.DOMEvent.addListener(a._double,"click",this.__onClick),this.moreContainer.appendChild(a._double))},_openMore:function(a){!mr.hasParent(a.target,this.moreContainer)&&!mr.hasClass(this.more,this.options.tabs.moreOpenedClass)&&(mr.counter("clb818633"),mr.addClass(this.more,this.options.tabs.moreOpenedClass),setTimeout(function(){Splash.DOMEvent.addListener(document,"click",this._closeMore)}.bind(this),0))},_closeMore:function(){mr.removeClass(this.more,
this.options.tabs.moreOpenedClass);Splash.DOMEvent.removeListener(document,"click",this._closeMore)},_loadTabContent:function(a){if(a._content)return!0;var c=document.getElementById("slot_"+a.getAttribute("data-slot"));if(c){var d;mr.hasClass(c.parentNode,this.options.content.tabClass)?d=c.parentNode:(d=document.createElement("div"),d.className=this.options.content.tabClass,d.style.display="none",c.style.display="",this.contentContainer.appendChild(d),d.appendChild(c));a._content=d;return!0}return!1},
_onClick:function(a,c){a.tab&&(a=a.tab);this.isActive(a)||(c.preventDefault(),this.activateTab(a))},isActive:function(a){return mr.hasClass(a,this.options.tabs.tabActiveClass)},activateTab:function(a){this.activeTab&&this.deactivateTab(this.activeTab);var c=a.getAttribute("data-counters");c&&mr.counter(c);mr.addClass(a,this.options.tabs.tabActiveClass);this._loadTabContent(a)?(a._content.style.display="block",this._waiting=null,this.mask.style.display="none"):(this.mask.style.display="block",this._waiting=
function(){this._loadTabContent(a);a._content.style.display="block";this.mask.style.display="none"});a._double?(mr.addClass(a._double,this.options.tabs.moreDropdownItemSelectedClass),mr.addClass(this.more,this.options.tabs.moreSelectedClass)):mr.removeClass(this.more,this.options.tabs.moreSelectedClass);this.activeTab=a},deactivateTab:function(a){mr.removeClass(a,this.options.tabs.tabActiveClass);this._loadTabContent(a)&&(a._content.style.display="none");a._double&&mr.removeClass(a._double,this.options.tabs.moreDropdownItemSelectedClass);
this.activeTab=null}});Splash.News=a})();
(function(a,b,c){function d(g){var a=g.relatedTarget,b=!1,c=g.type;g.type=ja[c];if(a!==this&&(a&&(b=k.contains(this,a)),!b))a=k.mkarr(arguments),m.fire(this,a.shift(),a),g.type=c}function e(g){function x(a,g){return m.add(aa,a,g)}function c(a,g){a&&m.rm(aa,a,g)}function j(a,g){a&&m.fire(aa,a,g)}function f(){return{current:P.curr,recent:P.rcnt,previous:P.prev,value:B,data:J,fullData:O,focused:C(K),method:ba,selected:C(Y),result:X(Y),itemData:H(Y),hovered:C(M),items:k.mkarr(Q)}}function d(){M=K=Y=ba=
O=J=B=null}function q(a){K=null;ga(a.currentTarget)}function h(){}function l(){}function p(){}function y(a){a[ha]();a[Z]();a=C(a.currentTarget);-1!=a&&(ba="mouse",xa(a))}function t(){if(/^(?:relative|absolute|fixed)$/i.test(k.css(D,"position"))){var g=ka({},u.getBoundingClientRect());g.left+=a.pageXOffset+(n.shiftX||0);g.top+=a.pageYOffset+u.offsetHeight+(n.shiftY||0);k.css(D,"left",g.left+"px");k.css(D,"top",g.top+"px")}}function E(a){a=a?"on":"off";k.attr(u,"autocomplete",a);k.attr(u,"autocapitalize",
a);k.attr(u,"autocorrect",a);ca&&(F(ca),ca=null);k.hasFocus(u)&&(u.blur(),ca=S(function(){(!b.activeElement||!/^(?:a|input|textarea|select|button|)$/i.test(b.activeElement.tagName)||k.hasFocus(u))&&u.focus();ca&&(F(ca),ca=null)},25))}function v(){F(la);la=null}function A(){la=S(function(){ya?A():(F(la),la=null,T())},50)}function I(){ya=!0}function z(){ya=!1;m.fire(u,"focus")}function G(){F(sa);sa=null}function V(a){var g=a.keyCode,b=a.shiftKey,x=a.ctrlKey;switch(!0){case !x&&!b&&(38==g||40==g)&&!U():a[Z]()}if(!sa)switch(sa=
S(G,n.keynavDelay),!0){case 13==g:if(!U()&&K&&(ba="keyboard",g=xa(K,!0),!n.autoSubmit||!1===g))a[Z]();break;case 27==g:U()||(T(),za(),S(za,15),a[Z]());break;case !x&&!b&&38==g:U()||$(-1);break;case !x&&!b&&39==g:!U()&&null!=O&&null!=J&&null!=B&&K&&X(K)!==B&&Aa(X(K));break;case !x&&!b&&40==g:U()?Aa():$(1)}}function R(){G()}function C(a){var g;"number"===typeof a?g=a:a&&a.nodeType&&(g=k.indexOf(Q,a));return"number"===typeof g&&!isNaN(g)?g:-1}function Ba(a){var g;if("number"===typeof a)g=Q[a];else if(a&&
a.nodeType&&~(a=k.indexOf(Q,a)))g=Q[a];return g||null}function H(a){a=C(a);return J&&null!=J[a]?J[a]:null}function ga(a){var g=Ba(a),b=n.hover;!M&&!g||M===g||(b&&("string"===typeof b?(M&&k.rmCls(M,b),g&&k.addCls(g,b)):L(b)&&(M&&(a=C(M),b(!1,M,H(a),a,B)),g&&(a=C(g),b(!0,g,H(a),a,B)))),M=g)}function W(a){a=C(a);var g=Ba(a),b=H(a);ga(a);j(s.focus,[b,a,B]);K=g;if(n.preview){var g=C(a),x=H(g),g=null!=x?n.result(x,g,O,B):B;P.setIgnore(g)}j(s.focusEnd,[b,a,B])}function $(a){var g=K||M,b=g?C(g):-1,g=Q.length-
1;a=b+a;-1>a?a=g:a>g&&(a=-1);W(a)}function X(a){a=C(a);var g=H(a);return null!=g?n.result(g,a,O,B):null}function za(){P.setIgnore(B);u.value=B}function xa(g,x){g=C(g);Y=-1==g?null:Ba(g);W(g);H(g);var c=n.select,r,e=!1;j(s.select,f());T();za();L(c)&&(r=c(f()));var d;if(d=!1!==r)d=C(g),(d=X(d))&&P.setIgnore(d),d=da&&n.autoSubmit;if(d)if(x)e=!0;else{var k=!1;b.createEvent?(Ca(da,"submit",function(g){g=g||a.event;k=Ga(g);ea.preventDefault.call({origEvt:g})}),c=b.createEvent("HTMLEvents"),c.initEvent("submit",
!1,!0),da.dispatchEvent(c)):b.createEventObject&&(c=b.createEventObject(),k=!da.fireEvent("onsubmit",c));!1===k&&da.submit()}e?b[ta]?Ca(da,"submit",Da):Ca(da,"submit",function(){S(Da,50)}):Da();return r}function Da(){var a=n.unselect;L(a)&&a(f());j(s.selectEnd,f());Y=ba=null}function Aa(a){null!=O&&null!=J&&null!=B&&(!a||a===B)?(Ea(),K&&W(K)):a?P.fireVal(a,!0):P.fire(!0)}function U(){var a=!0,g=n.switcher,b=n.switchChecker;g?"string"===typeof g?a=!k.hasCls(D,n.switcher):L(g)&&L(b)&&(a=!b()):a="none"===
k.css(D,"display");return a}function Ea(){if(U()){j(s.open,[B]);var a=n.switcher;a?"string"===typeof a?k.addCls(D,a):L(a)&&a(!0,D):k.css(D,"display","block");n.correction&&t();j(s.openEnd,[B])}}function T(){if(!U()){j(s.close,[B]);var a=n.switcher;a?"string"===typeof a?k.rmCls(D,a):L(a)&&a(!1,D):k.css(D,"display","none");j(s.closeEnd,[B])}}function ja(a){a.target!==u&&T()}function Fa(){t()}function pa(){ma&&(j(s.enable),m.add(b,"click",ja),m.add(D,"click",fa),m.add(u,"focus",v),m.add(u,"blur",A),
m.add(D,"mousedown",I),m.add(D,"mouseup",z),m.add(u,N?"keypress":"keydown",V),m.add(u,"keyup",R),n.correction&&m.add(a,"resize",Fa),E(!1),P.init(),ma=!1,j(s.enableEnd))}function qa(){ma||(j(s.disable),T(),P.off(),Ha.abortAll(),E(!0),m.rm(b,"click",ja),m.rm(D,"click",fa),m.rm(u,"focus",v),m.rm(u,"blur",A),m.rm(D,"mousedown",I),m.rm(D,"mouseup",z),m.rm(u,N?"keypress":"keydown",V),m.rm(u,"keyup",R),n.correction&&Fa&&m.rm(a,"resize",Fa),k.empty(ua),Q.length=0,M=K=Y=ba=null,ma=!0,j(s.disableEnd))}function wa(a){try{console.log(a.type,
arguments)}catch(g){}}function ra(a,g){var b=arguments.length;if(0==b)return n;if(1==b&&"object"!==typeof a)return k.walker(n,a);"object"!==typeof a&&(b={},b[a]=g,a=b);var j;j=a;if(null==j)j=null;else{var f={};(function Ia(a,g){a&&(k.isObj(a)?k.objEach(a,function(a,b){Ia(a,(g?g+".":"")+b)}):g&&(f[g]=a))})(j);j=f}(b=j)&&k.objEach(b,function(a,g){var b=k.walker(n,g,a);if(/(?:^on[A-Z])/.test(g.substr(0,3))&&L(a)){var j=g.charAt(2).toLowerCase()+g.slice(3);if(j=e.evt[j])b&&c(j,b),x(j,a)}})}var aa=this,
P={run:!1,did:null,prev:null,rcnt:null,curr:null,ignr:null,init:function(){this.run||(this.curr=this.prev=u.value,this.on())},handler:function(a){var g=this.curr=u.value,b=this.prev;if(a||g!==b){!a&&null==this.ignr&&(this.rcnt=b);this.prev=g;if(a||null==this.ignr||this.ignr!==g){j(s.valueChange,[g,b,this.rcnt]);a=""+g;var b=a.length,x=!0;if(n.valMin&&b<n.valMin||n.valMax&&b>n.valMax)x=!1;b=n.valFilter;x&&b&&(x=b instanceof RegExp?b.test(a):L(b)?b(a):b===a);x?(j(s.passFilter,[g]),Ha.send(g,function(a,
g){if(g===u.value){var b=n.dataGet;B=g;J=(O=a)&&L(b)?b(O):O;b=!1;if(!O||!J||!J.length||n.min&&n.min>J.length)b=!0;if(b)j(s.rejectData,[a,g]),d(),T();else{j(s.acceptData,[a,g]);k.empty(ua);Q.length=0;M=K=Y=ba=null;j(s.render,[J,B]);for(var b=n.max?Math.min(J.length,n.max):J.length,x=0,c,r=L(n.item)?n.item:k.tmpl(n.item);x<b;x++){c=J[x];(c=r({itemData:c,fullData:O,index:x,value:B}))&&"string"===typeof c&&(c=k.cre(c));if(!c||!c.nodeType)break;m.add(c,"click",y);m.add(c,"mouseenter",q);m.add(c,"mouseleave",
h);m.add(c,"mousedown",l);m.add(c,"mouseup",p);Q.push(c);ua.appendChild(c)}j(s.renderEnd,[Q,J,B]);Ea()}}},function(a,g){g===u.value&&(d(),T())})):(j(s.failFilter,[g]),d(),T())}this.ignr=null}},fire:function(a){this.off();this.handler(a);this.on()},fireVal:function(a,g){this.off();u.value=a;this.handler(g);this.on()},on:function(){if(!this.run){var a=this;this.run=!0;this.did=Ja(function(){a.handler()},n.delay)}},off:function(){this.run&&(this.run=!1,Ka(this.did),this.did=null)},setIgnore:function(a){u.value!==
a&&(this.ignr=u.value=a)}},na={c:{},i:0,set:function(a,g){j(s.setCache,[a,g]);n.cchLimit&&this.i+1>=n.cchLimit&&this.flush();this.c[a]=g;this.i++;j(s.setCacheEnd,[a,g,this.i])},get:function(a){j(s.getCache,[a]);var g=this.has(a)?this.c[a]:null;j(s.getCacheEnd,[a,g]);return g},has:function(a){return null!=this.c[a]&&w.call(this.c,a)},flush:function(){j(s.flushCache);var a=this.c,g;for(g in a)w.call(a,g)&&delete a[g];this.i=0;j(s.flushCacheEnd)}},Ha={act:[],actVals:{},isAct:function(a){return!arguments.length?
!!this.act.length:!!this.actVals[a]&&w.call(this.actVals,a)},add:function(a,g){var b=this.act;n.reqMax&&b.length&&b.length>=n.reqMax&&this.rm(b[0]);this.actVals[g]=a;return b.push(a)},rm:function(a){if(a){a.abort();var g=k.indexOf(this.act,a);~g&&this.act.splice(g,1);var b=this.actVals;for(g in b)if(b[g]===a){delete b[g];break}return this.act.length}},abortAll:function(){for(var a=this.act,g=this.actVals,b=a.length;b--;)a[b]&&a[b].abort();a.length=0;for(b in g)delete g[b]},stack:function(){return k.mkarr(this.act)},
send:function(a,g,b){if(!a)return!1;var x=this;if(n.cch&&na.has(a))return g&&g(na.get(a),a),!0;if(this.isAct(a))return j(s.blockRequest,["running",a]),!1;var c=n.url,r={query:a},c="object"===typeof c?k.url(k.objFormat(c,r)):k.format(c,oa(r)),f=La({timeout:n.reqTimeout,callbackParam:n.callbackParam,scriptCharset:n.scriptCharset,data:n.reqData,success:function(b){j(s.successRequest,[b,a]);j(s.completeRequest,[b,a]);var c=n.dataFilter;L(c)&&(b=c(b,a));x.rm(f)||j(s.stopRequest,[a]);n.cch&&na.set(a,b);
g&&g(b,a)},error:function(g){j(s.errorRequest,[g,a]);j(s.completeRequest,[g,a]);x.rm(f)||j(s.stopRequest,[a]);b&&b(g,a)}});1==x.add(f,a)&&j(s.startRequest,[a]);j(s.sendRequest,[a]);f.send(c);return!0}},O=null,J=null,B=null,ca,la,sa,n=k.copy(e.opts);ra(g);var u=n.field&&va(n.field),da=u&&u.form,D=va(n.cont),ua=n.list&&D?va(n.list,D):D,Q=[],M,K,Y,ya,ma=!0,ba=null;if(!u||!D||!ua)throw"";n.debug&&k.objEach(s,function(a){x(a,wa)});ka(this,{show:Aa,focus:W,moveFocus:$,select:xa,open:Ea,close:T,isClosed:U,
enable:pa,disable:qa,isDisabled:function(){return ma},destroy:function(){j(s.destroy);qa();n.cch&&na.flush();c();j(s.destroyEnd);delete e.instances[aa.guid]},on:x,off:c,getState:f,opts:ra,flushCache:function(){na.flush()}});aa.guid=ia++;e.instances[aa.guid]=aa;n.enabled&&pa()}var h,f=b,p=function(a){var b,r;if(a&&(r=a.length)!==c)try{b=Array.prototype.slice.call(a)}catch(j){for(b=Array(r);r--;)b[r]=a[r]}return b||[]},l=function(a,b){var r=[];b=b?l(b)[0]:f;if(!a)return r;if(a.nodeType||"object"===
typeof a&&"setTimeout"in a)return[a];if("object"===typeof a&&("[object Array]"===Object.prototype.toString.call(a)||a.length!==c))return p(a);if(!b)return r;if(/^[\w#.][\w\]*^|=!]*$/.test(a)){var j=0;switch(a.charAt(0)){case "#":j=a.slice(1);(r=f.getElementById(j))&&r.id!==j&&(r=f.all[j]);r=r?[r]:[];break;case ".":var d=a.slice(1);if(q)r=(r=b.getElementsByClassName(d)).length?r:[];else{for(var d=" "+d+" ",e=b.getElementsByTagName("*"),k=0,h;h=e[k++];)-1!=(" "+h.className+" ").indexOf(d)&&(r[j++]=
h);r=j?r:[]}break;default:r=(r=b.getElementsByTagName(a)).length?r:[]}}else{k=~a.indexOf("!=");if(y&&!k)try{r=b.querySelectorAll(a.replace(/=([^\]]+)/,'="$1"'))}catch(m){e=!0}if(e||!y||k){h=a.split(/ *, */);for(var S=h.length-1,t=!!S,s,N,w,E,v,A,I,H,z,C,F;e=h[S--];){N=(s=e.replace(/(\([^)]*)\+/,"$1%").replace(/(\[[^\]]+)~/,"$1&").replace(/(~|>|\+)/," $1 ").split(/ +/)).length;k=0;w=" ";for(e=[b];j=s[k++];)if(" "!==j&&">"!==j&&"~"!==j&&"+"!==j&&e){j=j.match(/([^[:.#]+)?(?:#([^[:.#]+))?(?:\.([^[:.]+))?(?:\[([^!&^*|$[:=]+)([!$^*|&]?=)?([^:\]]+)?\])?(?:\:([^(]+)(?:\(([^)]+)\))?)?/);
E=j[1]||"*";v=j[2];d=j[3]?" "+j[3]+" ":"";A=[];j=I=0;for(z=k==N;H=e[I++];)switch(w){case " ":H=H.getElementsByTagName(E);for(F=0;C=H[F++];)if((!v||C.id===v)&&(!d||-1!=(" "+C.className+" ").indexOf(d))&&!C.yeasss)z&&(C.yeasss=1),A[j++]=C}e=A}else w=j;if(t){if(!e.concat){A=[];for(F=0;C=e[F];)A[F++]=C;e=A}r=e.concat(1==r.length?r[0]:r)}else r=e}for(j=r.length;j--;)r[j].yeasss=r[j].nodeIndex=r[j].nodeIndexLast=null}}return p(r)},q=!!f.getElementsByClassName,y=!!f.querySelectorAll;h=l;var N=/opera/i.test(navigator.userAgent)&&
!!a.opera,t=Object.prototype,w=t.hasOwnProperty,A=t.toString,E=Array.prototype.slice,I=Array.prototype.forEach,z=Array.prototype.indexOf,G=Array.prototype.map,V=String.prototype.trim,oa=encodeURIComponent,S=a.setTimeout,Ja=a.setInterval,F=a.clearTimeout,Ka=a.clearInterval,R=Date.now||function(){return+new Date},ga=/\s+/,Ma=/\{(\w*)\}/mg,Na=/([-\\()^$.?+*])/g,v="SG"+R(),ia=1,fa=function(){return!1},W=function(){return!0},t=function(){},k={isArr:Array.isArray||function(a){return"[object Array]"===A.call(a)},
isFn:function(a){return"[object Function]"===A.call(a)},isObj:function(a){if(!a||"object"!==typeof a||k.isArr(a)||k.isFn(a)||a.nodeType||a.setTimeout||a.constructor&&!w.call(a,"constructor")&&!w.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(var b in a);return b===c||w.call(a,b)},isWin:function(a){return!!a&&"object"===typeof a&&"setInterval"in a},ext:function(){var a,b,r,j,e,f=arguments,d=f[0]||{},h=1,q=f.length,l=!1;"boolean"===typeof d&&(l=d,d=f[1]||{},h=2);for("object"!==typeof d&&
!k.isFn(d)&&(d={});h<q;h++)if(null!=(a=f[h]))for(b in a)r=d[b],j=a[b],d!==j&&(l&&j&&(k.isObj(j)||(e=k.isArr(j)))?(e?(e=!1,r=r&&k.isArr(r)?r:[]):r=r&&k.isObj(r)?r:{},d[b]=ka(l,r,j)):j!==c&&(d[b]=j));return d},copy:function(a){return k.ext(!0,k.isArr(a)?[]:{},a)},trim:function(a){a=""+a;return V?V.call(a):a.replace(/^\s+|\s+$/,"")},arrEach:function(a,b,c){if(I)I.call(a,b,c);else for(var j=0,d=a.length;j<d;j++)b.call(c,a[j],j)},objEach:function(a,b,c){for(var j in a)w.call(a,j)&&b.call(c,a[j],j)},each:function(a,
b,c){k["number"===typeof a.length?"arrEach":"objEach"](a,b,c)},map:function(a,b,c){if(G)return G.call(a,b,c);for(var j=0,d=a.length,f=Array(d);j<d;j++)f[j]=b.call(c,a[j],j);return f},indexOf:function(a,b,c){if(z)return z.call(a,b,c);c=c||0;var j=-1,d=0,f=a.length;if(c<f)for(0>c&&(d=Math.max(f-Math.abs(c),0));d<f;d++)if(a[d]===b){j=d;break}return j},format:function(a,b){return a&&b?(""+a).replace(Ma,function(a,g){return w.call(b,g)?b[g]:""}):""},objFormat:function(a,b){var c={};k.objEach(a,function(a,
g){c[g]="string"===typeof a?k.format(a,b):k.isObj(a)?k.objFormat(a,b):a});return c},walker:function(a,b,c){for(var j=2<arguments.length,d=b.split("."),f=0,e=d.length,h=a,q,l=null,p,m;f<e;f++)if(q=d[f],l=(h=l||h)[q],m=f==e-1,null==l||!m&&!k.isObj(l))if(j)m||(l=h[q]={});else{l=null;break}f==e&&j?(p=h[q],h[q]=c):c=l;return j?p:c},resc:function(a){return(""+a).replace(Na,"\\$1")},from:function(a){return null==a?[]:k.isArr(a)?a:[a]},mkarr:function(a){var b,d;if(a&&(d=a.length)!==c)try{b=E.call(a)}catch(j){for(b=
Array(d);d--;)b[d]=a[d]}return b||[]},prm:function(a){var b,c,j=[];for(b in a)w.call(a,b)&&j.push(k.map([b,k.isFn(c=a[b])?c():c],oa).join("="));return j.join("&")},aprm:function(a,b){if(!b)return a;a=""+a;var c=[a],j=a.charAt(a.length-1);c.push(!~a.indexOf("?")?"?":"?"!==j&&"&"!==j?"&":"");c.push("object"===typeof b?k.prm(b):b);return c.join("")},url:function(a){var b=[];a.scheme&&b.push(a.scheme,":");a.authority&&b.push("//",a.authority);a.path&&b.push("/",!a.path.indexOf("/")?a.path.slice(1):a.path);
a.query&&b.push(k.aprm("?",a.query));a.fragment&&(a=a.fragment,b.push("#","object"===typeof a?k.prm(a):a));return b.join("")},$:function(a,b){return h(a,b)[0]||null},$$:h,css:function(a,b,c){if(!a)return null;var j=null;if(2<arguments.length&&b)a.style[b]=c;else{var d=a.ownerDocument.defaultView.getComputedStyle(a,null);1==arguments.length?j=k.mkarr(d):b&&(j=d.getPropertyValue(b))}return j},addCls:function(a,b){for(var c=k.trim(b).split(ga),d=c.length,f=a.className;d--;)b=c[d],k.hasCls(a,b)||(f+=
" "+b);a.className=k.trim(f)},rmCls:function(a,b){if(1<arguments.length){for(var c=k.trim(b).split(ga),d=c.length,f=a.className;d--;)b=c[d],f=f.replace(RegExp("(?:^|\\s+)"+k.resc(b)+"(?:\\s+|$)","g")," ");a.className=k.trim(f)}else a.className=""},hasCls:function(a,b){b=k.trim(b);return!(!a||!a.nodeType||!b||!~(" "+a.className+" ").indexOf(" "+b+" "))},cres:function(a){a=k.trim(a);var c=b.createDocumentFragment().appendChild(b.createElement("div"));c.innerHTML=a;return k.mkarr(c.childNodes)},cre:function(a){a=
k.trim(a);return"<"===a.charAt(0)&&">"===a.charAt(a.length-1)?k.cres(a)[0]:b.createElement(a)},rme:function(a){a&&a.parentNode&&(m.rm(a),a.parentNode.removeChild(a))},empty:function(a){for(var b;a&&(b=a.firstChild);)k.rme(b)},attr:function(a,b,c){2<arguments.length&&a.setAttribute(b,c);return a.getAttribute(b)},hasFocus:function(a){return!!a&&a.ownerDocument.activeElement===a},contains:b.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:b.documentElement.compareDocumentPosition?
function(a,b){return!!(a.compareDocumentPosition(b)&16)}:fa},Oa=k,X=function(a,b){var c,d="string"===typeof a,f=!1,e;d?(a=k.trim(a),f=(!a.indexOf("#")||!a.indexOf("."))&&0>a.indexOf(pa)+a.indexOf($)):a&&(e=!!a.nodeType);if(f||e){if(e&&a[v]?c=H[a[v]]:e||(c=H[a]),!c&&(f=h(a)[0]))c=H[f[v]||(f[v]=ia++)]=X(f.innerHTML||""),d&&(H[a]=c)}else c=a,c=H[c]||(H[c]=Function("_o","_e","var _=[],print=function(){_.push.apply(p,arguments)};with(_o||{}){_.push('"+c.replace(Pa," ").split(pa).join("\t").replace(Qa,
"$1\r").replace(Ra,function(a,b){b=k.trim(b);return!b?"":["');","try{_.push("+b+")}catch(e){_e.push(e)}","_.push('"].join("")}).split("\t").join("');").split($).join("_.push('").split("\r").join("\\'")+"')}return _.join('')"));c||(c=b?function(){return""}:"");return b?c(b,qa):c},pa="<%",$="%>",Pa=/[\r\t\n]/g,Qa=RegExp("((^|"+k.resc($)+")[^\\t]*)'","g"),Ra=RegExp("\\t=(.*?)"+k.resc($),"g"),qa=[],H={};X.errs=qa;X.cch=H;Oa.tmpl=X;var ka=k.ext,L=k.isFn,va=k.$,ta="addEventListener",Z="preventDefault",
ha="stopPropagation",Sa="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),wa=b[ta]?function(a,b,c){a[ta](b,c,!1)}:b.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:t,ra=b[ta]?function(a,b,c){a.removeEventListener(b,
c,!1)}:b.attachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:t,Ca=function(a,b,c){wa(a,b,function(){ra(a,b,arguments.callee);return c.apply(a,arguments)})},Ga=function(a){return"defaultPrevented"in a?a.defaultPrevented:"returnValue"in a?!a.returnValue:"getPreventDefault"in a?a.getPreventDefault():!1},m=k.Event={fired:null,c:{},custom:{},hlink:function(a,b){b[v]=a[v]=a[v]||ia++;return b},fix:function(a){if(a[v])return a;var d=a;a=new m.Event(a);for(var f=0,j;j=Sa[f++];)a[j]=d[j];a.target||(a.target=
a.srcElement||b);3===a.target.nodeType&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);null==a.pageX&&null!=a.clientX&&(f=a.target.ownerDocument||b,d=f.documentElement,f=f.body,a.pageX=a.clientX+(d&&d.scrollLeft||f&&f.scrollLeft||0)-(d&&d.clientLeft||f&&f.clientLeft||0),a.pageY=a.clientY+(d&&d.scrollTop||f&&f.scrollTop||0)-(d&&d.clientTop||f&&f.clientTop||0));if(null==a.which&&(null!=a.charCode||null!=a.keyCode))a.which=
null!=a.charCode?a.charCode:a.keyCode;!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==c&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},handler:function(b,c){b=m.fix(b||a.event);b.currentTarget=this;var d=m.c[this[v]][b.type],f;(c=c&&k.isArr(c)?k.mkarr(c):null)&&c.unshift(b);for(var e=0,h=d.length;e<h&&!(f=d[e],f=c?f.apply(this,c):f.call(this,b),!1===f&&(b[Z](),b[ha]()),b.isImmediatePropagationStopped());e++);},add:function(b,c,f){b&&c&&L(f)&&(b.setInterval&&b!=a&&
!b.frameElement&&(b=a),k.arrEach(c.split(ga),function(a){f[v]||(f[v]=ia++);var c=b[v]=b[v]||ia++,c=m.c[c]=m.c[c]||{},c=c[a]=c[a]||[],d=c.handle=function(a,b){if(!a||a.type!==m.fired)return m.handler.call(d.elem,a,b)};d.elem=b;if(1==c.push(f)&&(b.nodeType||b.setInterval)){var e=m.custom&&m.custom[a]&&m.custom[a].setup;(!e||!1===e.call(b,d))&&wa(b,a,c.handle)}}))},one:function(a,b,c){m.add(a,b,m.hlink(c,function(){m.rm(this,b,arguments.callee);return c.apply(this,arguments)}))},rm:function(b,c,f){if(b)if(c)b.setInterval&&
b!=a&&!b.frameElement&&(b=a),k.arrEach(c.split(ga),function(a){var c=b[v],d=c&&m.c[c],e=d&&d[a];if(c&&d&&e){if(L(f)&&f[v])for(var j=e.length;j--;){if(e[j][v]==f[v]){e.splice(j,1);break}}else e.length=0;if(!e.length){if(b.nodeType||b.setInterval)j=m.custom&&m.custom[a]&&m.custom[a].teardown,(!j||!1===j.call(b,e.handle))&&ra(b,a,e.handle);delete d[a];for(a in d)return;delete m.c[c]}}});else{c=(c=b[v])&&m.c[c];var d=[],e;if(c){for(e in c)w.call(c,e)&&d.push(e);m.rm(b,d.join(" "))}}},fire:function(a,
b,c){var d;if(a&&b){c=k.from(c);var f=b.type||b,e,h="on"+f,q=a[v];if(d=(q=q&&m.c[q])&&q[f],q=d)e=b[v]?b:"object"===typeof b?new m.Event(f,b):new m.Event(b),e.type=f,e.target=e.currentTarget=a,q.handle.call(a,e,c);if(!e||!e.isDefaultPrevented()){var l;try{if((a.nodeType||a.setInterval)&&h&&a[f])(l=a[h])&&(a[h]=null),m.fired=f,a[f]()}catch(p){}l&&(a[h]=l)}m.fired=null}}};m.Event=function(a,b){a&&a.type?(this.origEvt=a,this.type=a.type,this.isDefaultPrevented=Ga(a)?W:fa):this.type=a;b&&ka(this,b);this.timeStamp=
R();this[v]=!0};var ea=m.Event.prototype;ea[Z]=function(){this.isDefaultPrevented=W;var a=this.origEvt;if(a)if(a[Z])a[Z]();else a.returnValue=!1};ea[ha]=function(){this.isPropagationStopped=W;var a=this.origEvt;if(a){if(a[ha])a[ha]();a.cancelBubble=!0}};ea.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=W;this[ha]()};ea.isDefaultPrevented=fa;ea.isPropagationStopped=fa;ea.isImmediatePropagationStopped=fa;var ja={mouseover:"mouseenter",mouseout:"mouseleave"};k.objEach(ja,function(a,
b){m.custom[a]={setup:function(){m.add(this,b,d)},teardown:function(){m.rm(this,b,d)}}});var Ta="cb"+v,La=k.jsonp=function(c){function f(){try{delete a[h]}catch(b){}}function d(a){m=l=!0;q&&q.onload();t&&t(a)}var e,h,q,l,p,m,y=c.success,t=c.error;return{send:function(t){m=!1;e=b.head||va("head,body")||b.documentElement;h=Ta+ia++;q=k.cre("script");c.scriptCharset&&(q.charset=c.scriptCharset);q.async=!0;q.onload=q.onreadystatechange=function(){if(l||!this.readyState||"loaded"===this.readyState)q.onload=
q.onreadystatechange=null,q&&q.parentNode&&e.removeChild(q),q=null,F(p),m=!0,l&&(a[h]=f)};var s=ka({},c.data);s[c.callbackParam]=h;t=k.aprm(t,s);q.src=t;a[h]=function(a){m=!0;f();y&&y(a)};c.timeout&&(p=S(function(){d("timeout")},c.timeout));e.insertBefore(q,e.firstChild);return this},abort:function(){m||d("user");return this}}},s=e.evt={};k.arrEach("open openEnd close closeEnd enable enableEnd disable disableEnd destroy destroyEnd blockRequest successRequest completeRequest stopRequest errorRequest startRequest sendRequest passFilter failFilter rejectData acceptData render renderEnd focus focusEnd select selectEnd valueChange flushCache flushCacheEnd setCache setCacheEnd getCache getCacheEnd".split(" "),
function(a){this[a]=a},s);e.instances={};e.opts={enabled:!0,field:"#q",cont:"#sg",switcher:"sg-open",delay:250,valMin:1,valMax:255,valFilter:/(?:\S)/,url:"//suggests.go.mail.ru/sg_mobi?q={query}",callbackParam:"callback",reqTimeout:5E3,reqMax:2,scriptCharset:"windows-1251",dataFilter:function(a){return a},dataGet:function(a){return a&&a.items?a.items:[]},cch:!0,cchLimit:128,max:5,min:0,autoSubmit:!0,hover:"sg-item-hover",item:'<div class="sg-item"><%= itemData.textMarked || itemData.text %></div>',
result:function(a){return a.text},select:function(){},keynavDelay:150,preview:!0,debug:!1};e.utils=k;a.SG=a.SG||e})(window,document);(function(){var a=new Image;window.dataURISupported=!1;a.onload=a.onerror=function(a){a||(a=window.event);window.dataURISupported="load"===a.type};a.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="})();
(function(){var a=mr.id("q"),b=a.form,c=mr.id("go-form__sugg"),d=mr.id("go-form__sugg__items"),e=mr.id("go-form__sugg__loading"),h=mr.id("go-suggests__suggest-tmpl"),f=0,d=new SG({enabled:!1,field:a,cont:c,list:d,switcher:"go-form__sugg_open",autoSubmit:!0,preview:!0,hover:"go-form__sugg__item_select",max:7,scriptCharset:"utf-8",url:{scheme:0==location.href.indexOf("https://")?"https":"http",authority:"suggests.go.mail.ru",path:"sg_u",query:{q:"{query}"}},reqTimeout:3E3,reqData:{},dataFilter:function(a){if(a&&
a.items){var b=a.items,c,f,d=a.sites&&a.sites.length||0,e=[];for(f=0;f<d;f++)c=a.sites[f],"site"===c.type&&e.push(c);for(f=b.length;f--;)c=b[f],"site"===c.type&&b.splice(f,1);e.length&&b.unshift.apply(b,e)}return a},item:h,result:function(a){return a.text},onRenderEnd:function(){if(window.__ie7||window.__ie6)c.style.display="none",c.style.display="block"},onStartRequest:function(){e.style.display="block"},onStopRequest:function(){e.style.display="none"}}),p;d.opts({select:function(a){var c=a.itemData,
d=a.value;if("site"===c.type)p=a;else{a={us:d.length};if(c.mus){a.usmus=1;a.rch="l";for(var e=b.getElementsByTagName("input"),h=0,w=e.length;h<w;h++)d=e[h],"rch"==d.name&&d.parentNode.removeChild(d)}c.spcAuto&&(a.ussp=c.spcAuto);var A=document.createDocumentFragment(),E=[],I;for(I in a)a.hasOwnProperty(I)&&(c=a[I],d=document.createElement("input"),d.type="hidden",d.name=I,d.value=c,E.push(d),A.appendChild(d));b.appendChild(A);setTimeout(function(){for(var a=0,b=E.length;a<b;a++){var c=E[a];c.parentNode.removeChild(c)}E=
A=null},10);mr.counter("clb615232");f=1}},unselect:function(){p=null}});Splash.DOMEvent.addListener(b,"submit",function(c){if(b._submited)return!0;if(p){var d=p.itemData,e=p.value,h=document.createElement("form");h.action=(0==location.href.indexOf("https://")?"https":"http")+"://go.mail.ru/search";h.method="get";h.target="_blank";var d={q:d.link,sg:e,ce:1,sgsig:d.sig},t;for(t in d)if(d.hasOwnProperty(t)){var e=d[t],w=document.createElement("input");w.type="hidden";w.name=t;w.value=e;h.appendChild(w)}document.body.appendChild(h);
h.submit();setTimeout(function(){h.parentNode.removeChild(h)},15);c.preventDefault();return!1}1!=f&&(2!=f&&!isSubmitButtonClicked)&&mr.counter("clb615230");f=0;b._submited=!0;/^\s*$/.test(a.value)||b.submit();c.preventDefault();return!1});if(window.__ie6||window.__ie7)d.on("closeEnd",function(){c.style.display="none";c.style.display="block"});d.enable()})();
(function(){var a=mr.id("search__projects-list");mr.bind(a,"click",function(a){a=a||window.event;var c=a.target||a.srcElement;if("A"===c.tagName){var d=mr.id("q").value;if(d){var e=mr.data(c,"search-href");if(e){if(c=mr.data(c,"search-param")){var h=document.createElement("form");h.action=e;h.method="get";h.setAttribute("accept-charset","windows-1251");e=document.createElement("input");e.type="hidden";e.name=c;e.value=d;h.appendChild(e);document.body.appendChild(h);h.submit()}else location.href=e+
encodeURIComponent(d);mr.preventDefault(a)}}}});a=document.getElementById("search");mr.bind(a,"submit",function(a){var c=mr.id("q");if(!/^\s*$/.test(c.value))return!0;c.focus();mr.preventDefault(a)});a=mr.id("search__button__wrapper__field");window.isSubmitButtonClicked=!1;mr.bind(a,"mousedown",function(){isSubmitButtonClicked=!0;mr.counter("clb615227")})})();
(function(){var a=mr.id("Auth"),b=mr.id("js-mailbox-emails"),c=mr.id("js-unread"),d=mr.tag("*",c,"js-txt")[0],e=mr.id("js-readed"),h=mr.id("js-mailbox-user"),f=mr.id("js-mailbox-avatar"),p=mr.id("js-mailbox-writemail"),l=mr.id("js-mailbox-exit"),q=mr.id("mailbox__login"),y=mr.id("mailbox__login__domain"),N=mr.id("domain-widget"),t=mr.id("mailbox__password"),w=mr.id("mailbox__auth__remember__checkbox"),A=mr.id("js-mailbox-enter"),E={},I=new Splash.EventEmitter;mr.data(a,"loadsubmit-counter","d703061");
window.Splash.ajaxUpdates.push({data:"mailbox",cb:function(a){E&&a.hasAuth!==E.hasAuth&&I.emit("switch",{data:a,oldData:E});A.href=a.HasAuth?mr.data(A,"enter-href"):mr.data(A,"login-href");if(a.HasAuth)h.innerHTML=a.ActiveEmail,mr.isMultiAuth&&(mr.multiuser.innerHTML=a.ActiveEmail),a.PhotoBox!==E.PhotoBox&&(f.style.backgroundImage="url(//avt.foto.mail.ru/"+a.PhotoBox+"/_avatarsmall)"),f.name=a.TotalUnread?mr.data(f,"counter-unread"):mr.data(f,"counter-readed"),b.name=a.TotalUnread?mr.data(b,"counter-unread"):
mr.data(b,"counter-readed"),p.name=a.TotalUnread?mr.data(p,"counter-unread"):mr.data(p,"counter-readed"),l.name=a.TotalUnread?mr.data(l,"counter-unread"):mr.data(l,"counter-readed"),a.TotalUnread?(d.innerHTML=a.TotalUnread+" "+_plural(a.TotalUnread,Splash.data.mailbox.newL)+" "+_plural(a.TotalUnread,Splash.data.mailbox.letters),c.style.display="inline",e.style.display="none"):(e.style.display="inline",c.style.display="none"),mr.removeClass(document.body,"status__user_hasNoAuth"),mr.addClass(document.body,
"status__user_hasAuth");else{if(document.activeElement&&-1!==document.activeElement.className.indexOf("mailbox"))return;var z=null,F=null;a.User&&(z=a.User+"@"+a.UserDomain);q.value&&(F=1!=mr.mailboxAuthType?q.value+y.options[-1==y.selectedIndex?1:y.selectedIndex].text:q.value);z!=F&&(t.value="");q.value=1!=mr.mailboxAuthType?a.User||"":a.User?a.User+"@"+a.UserDomain:"";mailboxLoginPlaceholder.toggle();for(mailboxPasswordPlaceholder.toggle();y&&y.firstChild;)y.removeChild(y.firstChild);if(a.Domains[0].Domain){mr.domains=
[];for(var z=a.Domains.length,F=null,G=0;G<z;G++)F=a.Domains[G].Domain,mr.domains.push(F)}else mr.domains=a.Domains;z=0;for(F=mr.domains.length;z<F;z++)if(G=mr.domains[z],y){var R=document.createElement("option");R.value=G;R.selected=a.UserDomain==G;R.innerHTML="@"+G;y.appendChild(R)}N&&N.mrChange();z=__PH.cookie.s.getGlobal("a")||mr.cookie("loginS");w.checked="string"!==typeof z||"1"===z;w.mrChange();I.emit("reset",a);mr.removeClass(document.body,"status__user_hasAuth");mr.addClass(document.body,
"status__user_hasNoAuth")}!a.HasAuth&&!a.User?mr.addClass(document.body,"status__user_hasNoAuth_noCookie"):mr.removeClass(document.body,"status__user_hasNoAuth_noCookie");E=a}});var z=mr.id("password_warning"),G=new Splash.Hint("",z);G.on("show",function(){mr.counter("d721322")});I.on("switch",G.hide);I.on("reset",function(){t.value||(G.hide(),z.style.display="none")});new function(){this.input=t;this.allowedSymbols=/^[0-9a-zA-Z!@#$%^&*()\-<>'"_+=;:,./?\\|`~[\]{}]+$/i;this.wrongAlpha=/[\u0430-\u044f\u0410-\u042f\u0454\u0457\u0491\u0456]/i;
this.wrongSymbolsMsg="\u0412\u044b \u0432\u0432\u0435\u043b\u0438<br/>\u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b";this.wrongBadLangMsg="\u0421\u043c\u0435\u043d\u0438\u0442\u0435 \u0440\u0430\u0441\u043a\u043b\u0430\u0434\u043a\u0443";this.warningEvent=new Splash.DOMEvent(this.input,"keyup",mr.proxy(function(){this.input.value&&!this.allowedSymbols.test(this.input.value)?(this.wrongAlpha.test(this.input.value)?G.setContent(this.wrongBadLangMsg):
G.setContent(this.wrongSymbolsMsg),z.style.display="block",mr.counter("d755623")):(G.hide(),z.style.display="none")},this));this.warningEvent.attach()};var V=!1,oa=new Splash.DOMEvent(document,"keyup",function(a){27==a.which&&(oa.detach(),V=!1)});window.Splash.mailboxDoCount=function(){if(V)return!1;oa.attach();return V=!0}})();
(function(){mr.cookie("newsT",null);window.newsTabs=new Splash.News(mr.id("news"),{tabs:{containerClass:"news__tabs",tabClass:"news__tabs__item",tabActiveClass:"news__tabs__item_selected",doubleTabClass:"news__tabs__item_double",tabLinkClass:"news__tabs__item__link",moreId:"news__more",moreIconId:"news__more__icon",moreDropdownId:"news__more__dropdown",moreOpenedClass:"news__tabs__more_opened",moreSelectedClass:"news__tabs__more_selected",moreDropdownItemClass:"news__tabs__more__dropdown__item",moreDropdownItemSelectedClass:"news__tabs__more__dropdown__item_selected",
moreDropdownItemLinkClass:"news__tabs__more__dropdown__item__link"},content:{containerId:"news__wrap",tabClass:"news__list",slotClass:"news__list__slot"},mask:{maskId:"news__mask"}})})();
(function(){var a=mr.id("js-my-messages");mr.id("js-my-messages-link");var b=mr.id("js-my-messages-icon"),c=mr.id("js-my-friendships"),d=mr.id("js-my-friendships-link"),e=mr.id("js-my-friendships-icon");window.Splash.ajaxUpdates.push({data:"my",cb:function(h){h.HasMy?(a.innerHTML=h.MyMessages_cnt?h.MyMessages_cnt+" "+_plural(h.MyMessages_cnt,Splash.data.my.messages[0]):Splash.data.my.messages[1],c.innerHTML=h.MyFriendships_cnt?h.MyFriendships_cnt+" "+_plural(h.MyFriendships_cnt,Splash.data.my.friendships[0])+
Splash.data.my.friendships[1]:Splash.data.my.friendships[2],d.href=d.href.split("?")[0]+"?from=splash&requests="+h.MyFriendships_cnt+"#notify=people",mr["0"==h.MyMessages_cnt?"removeClass":"addClass"](b,"icon_counter_my-messages_unread"),mr["0"==h.MyFriendships_cnt?"removeClass":"addClass"](e,"icon_counter_my-friendship_unread"),mr.removeClass(document.body,"status__user_hasNoMy"),mr.addClass(document.body,"status__user_hasMy")):(mr.removeClass(document.body,"status__user_hasMy"),mr.addClass(document.body,
"status__user_hasNoMy"))}})})();
mr.mraSuggest&&function(a){function b(a){if(!d){clearTimeout(e);mr.counter("d929045");var b=mr.id("mraSuggest"),c=mr.id("mraTitle"),l=mr.id("mraDescription"),q=a.items&&a.items.length;try{if("ok"===a.status&&0!=q){for(var y=0;y<q;y++){var N=a.items[y],t=document.createElement("a"),w="http://agent.mail.ru/friends?partnerid=ava",A=1==q?"\u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442":"\u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442";t.className=
"social_mra__suggest__avatars__image";t.href=w;t.style.backgroundImage="url(//avt.foto.mail.ru/"+N.photoBox+"/_avatar22)";t.title=N.nick;t.name="clb877223";b.appendChild(t)}l.innerHTML=A;l.href=w;l.name="clb877221";c.href=w;c.name="clb877221";b.style.visibility="visible";mr.counter("d876981")}else"ok"===a.status&&0==q?mr.counter("d876980"):mr.counter("d876974")}catch(E){window.logError&&logError(E,"createMraSuggests"),mr.counter("d929044")}l.style.visibility="visible";d=!0}}function c(){e=setTimeout(function(){b({status:"error"})},
750);mr.getScript("//mrimraker1.mail.ru/agent_suggest?json=1&callback=getMraFriends",!1,"utf-8")}var d=!1,e;a.getMraFriends=function(a){b(a)};"opera"in a?a.addEventListener("DOMContentLoaded",function(){c()},!1):c()}(window,document);
function execInnerScripts(a){try{var b=[],c,d=a.childNodes,e,h;for(h=0;d[h];h++)e=d[h],e.nodeName&&"SCRIPT"===e.nodeName.toUpperCase()&&(!e.type||"text/javascript"===e.type.toLowerCase())&&b.push(e);for(h=0;b[h];h++){c=b[h];c.parentNode&&c.parentNode.removeChild(c);var f=c.text||c.textContent||c.innerHTML||"",p=document.getElementsByTagName("head")[0]||document.documentElement,l=document.createElement("script");l.type="text/javascript";try{l.appendChild(document.createTextNode(f))}catch(q){l.text=
f}p.insertBefore(l,p.firstChild);p.removeChild(l)}}catch(y){window.logError&&logError(y,"execInnerScripts")}}
function parseWrite(a){var b="u"+1E7*(new Date).getTime()*Math.random();a=a.replace(/(<script[^>]*>)\s*(\x3c!--|\/\/\s*<!\[CDATA\[)/gi,"$1;").replace(/\/\/\s*(--\x3e|\]\]>)\s*(<\/script>)/gi,";$2");return a="<script>window.qwe"+b+' = "";\x3c/script>'+a.replace(/\w+\.write(ln)?\(/ig,"qwe"+b+"+=(").replace(/<noscript>/ig,"\x3c!--").replace(/<\/noscript>/ig,"--\x3e")+'<span id="'+b+'"></span><script>mr.id("'+b+'").innerHTML = qwe'+b+";\x3c/script>"}
function reloadSlots(){window.reloadSlotsJSONPCallback=function(a){try{var b=a.length,c,d,e,h;for(c=0;c<b;c++)d=a[c].slot,e=parseWrite(a[c].html),h=mr.id("slot_"+d),h.innerHTML='<i style="display:none;">&nbsp;</i>'+e+'<i style="display:none;">&nbsp;></i>',setTimeout(function(a){return function(){execInnerScripts(a)}}(h),0)}catch(f){window.logError&&logError(f,"reloadSlots")}};mr.getScript("//ad.mail.ru/adq/?callback=reloadSlotsJSONPCallback&q="+[4015,217,4499].join("&q="),!1,"utf-8")}
(function(){function a(a,e){d=e;var h=window.__PH&&a.data&&a.data.email?"&Login="+encodeURIComponent(a.data.email):"";percent(5)&&((new Image).src="//lf1.mail.ru/?json=1&zero=1&"+(new Date).getTime()+Math.random()+h);mr.getJson(c+h,{},b);return!1}function b(a){try{for(var b=0,c=window.Splash.ajaxUpdates.length;b<c;b++){var e=window.Splash.ajaxUpdates[b];e.cb(e.data?a[e.data]:a)}}catch(h){window.logError&&logError(h,"getSplash")}"function"===typeof d&&d()}var c=location.href.split("#")[0].split("?")[0]+
"?json=1",d=function(){};if(__mailUpdated)__mailUpdated=!0,__PH.on("update",function(b,c){a(b,c)});else __PH.once("update",function(b,c){__mailUpdated=!0;__PH.on("update",function(b,c){a(b,c)});c()});__PH.on("authChange",function(b,c){a(b,c);reloadSlots()});if(mr.onFocusBannerReload){var e=!1;__PH.on("visibilitychange",function(a){a.data.visible&&e&&(h(),reloadSlots(),mr.counter("d1464827"))});var h=function(){e=!1;setTimeout(function(){e=!0},6E5)};h()}})();
function splashMultiAuthInit(){mr.isMultiAuth="isMultiAuth"in __PH&&!0===__PH.isMultiAuth();if(mr.isMultiAuth){mr.multiuser=mr.id("MA_user-email");var a=Splash,b=function(b){mr.hasClass(f,p)&&(clearTimeout(l),mr.removeClass(f,p),f.style.width="",a.DOMEvent.removeListener(document,"click",c),b&&b.preventDefault())},c=function(a){var c;mr.hasParent(a.target,f)?(c=mr.hasParent(a.target,"js-logout")||mr.hasClass(a.target,"js-logout")&&(c=a.target))?(__PH.logoutAccount(mr.hasParent(c,"js-list-user").getAttribute("data-email"),
d),mr.counter("clb1199007"),a.preventDefault()):(c=mr.hasParent(a.target,"js-list-user")||mr.hasClass(a.target,"js-list-user")&&(c=a.target))?(__PH.switchAccount(c.getAttribute("data-email")),mr.counter("clb1195611"),a.preventDefault(),b()):mr.hasParent(a.target,"js-button")||mr.hasClass(a.target,"js-button")&&a.target?(a.preventDefault(),b()):mr.hasParent(a.target,"js-login")||mr.hasClass(a.target,"js-login")&&a.target?(mr.counter("clb1195612"),b()):mr.isNode(a.target)&&"a"===a.target.tagName.toLowerCase()&&
b():b()},d=function(a){var b=mr.id("multiAuthMenuList");if("error"!==a.status){a=a.accounts;1<a.length?(mr.addClass(f,"multiauth__menu_multi"),4<a.length?mr.addClass(f,"multiauth__menu_limit"):mr.removeClass(f,"multiauth__menu_limit")):(mr.removeClass(f,"multiauth__menu_multi"),mr.removeClass(f,"multiauth__menu_limit"));for(var c=[],d=0,e=a.length;d<e;d++){var h="",l=a[d];0===d?h=" multiauth__menu__dropdown__list__item_first":d===a.length&&(h=" multiauth__menu__dropdown__list__item_last");l.active&&
(h+=" multiauth__menu__dropdown__list__item_current");c.push("<div"+(!l.active?' tabindex="0"':"")+' class="multiauth__menu__dropdown__list__item'+(!l.active?" js-list-user":"")+h+'" data-email="'+l.email+'" onkeypress="if ((event.which || event.charCode || event.keyCode) === 13){var t = (event.target || event.srcElement); t.nodeType == 3 && (t = t.parentNode); t.click();}"><div class="multiauth__menu__dropdown__list__item__avatar" style="background-image:url(//filin.mail.ru/pic?from=splash&email='+
l.email+'&width=45&height=45);"></div><div class="multiauth__menu__dropdown__list__item__info"><div class="multiauth__menu__dropdown__list__item__info__email">'+l.email+'</div><div class="multiauth__menu__dropdown__list__item__info__text">'+(l.firstName&&l.lastName?l.firstName+" "+l.lastName:"")+'</div></div><div class="multiauth__menu__dropdown__list__item__logout js-logout"><span class="portal-button portal-button_only-icon"><span class="portal-button__fake"><span class="portal-button__fake__icon portal-button__fake__icon_multiauth portal-button__fake__icon_multiauth_exit"></span></span></span></div></div>')}b.innerHTML=
c.join("")}},e=mr.id("js-mailbox-user"),h=mr.id("js-mailbox-user-wrap"),f=mr.id("multiAuthMenu"),p="multiauth__menu_open";mr.id("multiAuthHolder").appendChild(f);mr.addClass(h,"w-mailbox__userinfo__email_multiauth");a.DOMEvent.on(e,"click",function(e){if(mr.hasClass(f,p))b(e);else if(!mr.hasClass(f,p)){var h=function(){l&&(mr.addClass(f,p),a.DOMEvent.on(document,"click",c),l=!1)},l=!0,t;mr.addClass(f,"multiauth__menu__dropdown_loading");mr.removeClass(f,"multiauth__menu__dropdown_error");t=setTimeout(h,
100);__PH.loadAccountsList(function(a){clearTimeout(t);"timeout"===a.status||"error"===a.status?(mr.removeClass(f,"multiauth__menu__dropdown_loading"),mr.addClass(f,"multiauth__menu__dropdown_error")):(d(a),mr.removeClass(f,"multiauth__menu__dropdown_loading"));h();f.style.width=f.offsetWidth+"px"});mr.counter("clb1195610");e&&e.preventDefault()}});a.DOMEvent.on(f,"mouseover",function(){clearTimeout(l)});a.DOMEvent.on(f,"mouseout",function(){clearTimeout(l);l=setTimeout(b,4E3)});var l}}
splashRadar("JSInit",1);splashRadar._JSINITTime=(new Date).getTime()-splashRadar._JSINITTime;
